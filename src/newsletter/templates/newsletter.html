<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>{{ subject_line }}</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700;800&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: 'Inter', -apple-system, sans-serif;
    background: #000;
    color: #d4d4d4;
    line-height: 1.7;
    background-image: radial-gradient(circle, #1a1a1a 1px, transparent 1px);
    background-size: 24px 24px;
  }

  .container {
    max-width: 640px;
    margin: 0 auto;
    padding: 48px 24px;
  }

  /* Header */
  .header {
    text-align: center;
    margin-bottom: 48px;
    padding-bottom: 32px;
    border-bottom: 1px solid #1a1a1a;
  }

  .header .logo {
    font-family: 'JetBrains Mono', monospace;
    font-size: 12px;
    text-transform: uppercase;
    letter-spacing: 6px;
    color: #f59e0b;
    margin-bottom: 8px;
  }

  .header .date {
    font-size: 13px;
    color: #525252;
  }

  /* Section labels */
  .section-label {
    font-family: 'JetBrains Mono', monospace;
    font-size: 12px;
    font-weight: 700;
    color: #f59e0b;
    text-transform: uppercase;
    letter-spacing: 3px;
    margin-bottom: 20px;
  }

  .section {
    margin-bottom: 48px;
    padding-bottom: 40px;
    border-bottom: 1px solid #141414;
  }

  .section:last-of-type {
    border-bottom: none;
  }

  /* Signal */
  .signal-headline {
    font-size: 24px;
    font-weight: 700;
    color: #fafafa;
    line-height: 1.3;
    margin-bottom: 20px;
  }

  .signal-block {
    margin-bottom: 16px;
  }

  .signal-block strong {
    font-family: 'JetBrains Mono', monospace;
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 2px;
    color: #737373;
    display: block;
    margin-bottom: 6px;
  }

  .signal-block p {
    font-size: 15px;
    color: #d4d4d4;
  }

  .source-link {
    font-family: 'JetBrains Mono', monospace;
    font-size: 12px;
    color: #525252;
    margin-top: 16px;
  }

  .source-link a {
    color: #f59e0b;
    text-decoration: none;
  }

  .source-link a:hover {
    text-decoration: underline;
  }

  /* Radar */
  .radar-item {
    margin-bottom: 24px;
    padding-bottom: 24px;
    border-bottom: 1px solid #0f0f0f;
  }

  .radar-item:last-child {
    margin-bottom: 0;
    padding-bottom: 0;
    border-bottom: none;
  }

  .radar-num {
    font-family: 'JetBrains Mono', monospace;
    font-size: 11px;
    color: #f59e0b;
    margin-bottom: 6px;
  }

  .radar-takeaway {
    font-size: 16px;
    font-weight: 600;
    color: #fafafa;
    line-height: 1.4;
    margin-bottom: 10px;
  }

  .radar-context {
    font-size: 14px;
    color: #a3a3a3;
    margin-bottom: 8px;
    line-height: 1.6;
  }

  .radar-summary {
    font-size: 13px;
    color: #525252;
    font-style: italic;
    margin-bottom: 6px;
  }

  .radar-source {
    font-family: 'JetBrains Mono', monospace;
    font-size: 11px;
    color: #404040;
  }

  .radar-source a {
    color: #f59e0b;
    text-decoration: none;
  }

  .radar-source a:hover {
    text-decoration: underline;
  }

  /* Translate */
  .concept-name {
    font-family: 'JetBrains Mono', monospace;
    font-size: 20px;
    font-weight: 700;
    color: #fafafa;
    margin-bottom: 16px;
  }

  .translate-block {
    background: #0a0a0a;
    border: 1px solid #1a1a1a;
    border-radius: 8px;
    padding: 20px 24px;
    margin-bottom: 12px;
  }

  .translate-block strong {
    font-family: 'JetBrains Mono', monospace;
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 2px;
    color: #f59e0b;
    display: block;
    margin-bottom: 6px;
  }

  /* Use This */
  .prompt-problem {
    font-size: 16px;
    color: #fafafa;
    font-weight: 600;
    margin-bottom: 16px;
  }

  .prompt-box {
    background: #0a0a0a;
    border: 1px solid #292929;
    border-left: 3px solid #f59e0b;
    border-radius: 0 8px 8px 0;
    padding: 20px;
    margin-bottom: 16px;
    font-family: 'JetBrains Mono', monospace;
    font-size: 13px;
    line-height: 1.6;
    color: #e5e5e5;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  .example-box {
    background: #0a0a0a;
    border: 1px solid #1a1a1a;
    border-radius: 8px;
    padding: 16px 20px;
    margin-bottom: 12px;
    font-size: 13px;
    color: #737373;
    font-style: italic;
  }

  .example-box::before {
    content: 'Example output';
    display: block;
    font-family: 'JetBrains Mono', monospace;
    font-size: 10px;
    text-transform: uppercase;
    letter-spacing: 2px;
    color: #404040;
    font-style: normal;
    margin-bottom: 8px;
  }

  .why-works {
    font-size: 14px;
    color: #737373;
  }

  .why-works em {
    color: #f59e0b;
    font-style: normal;
  }

  .difficulty {
    display: inline-block;
    font-family: 'JetBrains Mono', monospace;
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 1px;
    padding: 4px 10px;
    border-radius: 4px;
    background: #1a1a1a;
    color: #737373;
    margin-top: 8px;
  }

  /* Before After */
  .ba-task {
    font-size: 18px;
    font-weight: 700;
    color: #fafafa;
    margin-bottom: 20px;
  }

  .ba-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 16px;
    margin-bottom: 16px;
  }

  @media (max-width: 520px) {
    .ba-grid { grid-template-columns: 1fr; }
  }

  .ba-col {
    background: #0a0a0a;
    border: 1px solid #1a1a1a;
    border-radius: 8px;
    padding: 20px;
  }

  .ba-col.before {
    border-top: 3px solid #404040;
  }

  .ba-col.after {
    border-top: 3px solid #f59e0b;
  }

  .ba-col h4 {
    font-family: 'JetBrains Mono', monospace;
    font-size: 12px;
    text-transform: uppercase;
    letter-spacing: 2px;
    margin-bottom: 12px;
  }

  .ba-col.before h4 { color: #525252; }
  .ba-col.after h4 { color: #f59e0b; }

  .ba-col p {
    font-size: 14px;
    color: #a3a3a3;
  }

  .ba-insight {
    background: #0a0a0a;
    border: 1px solid #1a1a1a;
    border-left: 3px solid #f59e0b;
    border-radius: 0 8px 8px 0;
    padding: 16px 20px;
    font-size: 14px;
    color: #d4d4d4;
  }

  .ba-insight strong {
    color: #f59e0b;
  }

  /* Challenge */
  .challenge-theme {
    font-size: 17px;
    font-weight: 600;
    color: #fafafa;
    margin-bottom: 24px;
  }

  .challenge-level {
    background: #0a0a0a;
    border: 1px solid #1a1a1a;
    border-radius: 8px;
    padding: 20px 24px;
    margin-bottom: 12px;
  }

  .challenge-level-header {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 10px;
  }

  .challenge-level-num {
    font-family: 'JetBrains Mono', monospace;
    font-size: 11px;
    font-weight: 700;
    color: #000;
    background: #f59e0b;
    padding: 2px 8px;
    border-radius: 4px;
  }

  .challenge-level-title {
    font-family: 'JetBrains Mono', monospace;
    font-size: 12px;
    font-weight: 600;
    color: #a3a3a3;
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  .challenge-level p {
    font-size: 14px;
    color: #a3a3a3;
    line-height: 1.7;
  }

  .challenge-learn {
    background: #0a0a0a;
    border: 1px solid #1a1a1a;
    border-left: 3px solid #f59e0b;
    border-radius: 0 8px 8px 0;
    padding: 16px 20px;
    margin-top: 16px;
  }

  .challenge-learn strong {
    font-family: 'JetBrains Mono', monospace;
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 2px;
    color: #f59e0b;
    display: block;
    margin-bottom: 6px;
  }

  /* Footer */
  .footer {
    text-align: center;
    padding-top: 32px;
    border-top: 1px solid #1a1a1a;
    font-size: 12px;
    color: #404040;
  }

  .footer a {
    color: #f59e0b;
    text-decoration: none;
  }
</style>
</head>
<body>
<div class="container">

  <div class="header">
    <div class="logo">Knowledge in Chain</div>
    <div class="date">Edition #{{ edition_number }} &middot; {{ date }}</div>
  </div>

  <!-- SIGNAL -->
  <div class="section">
    <div class="section-label">// Signal</div>
    <h2 class="signal-headline">{{ signal.headline }}</h2>
    <div class="signal-block">
      <strong>What happened</strong>
      <p>{{ signal.what_happened }}</p>
    </div>
    <div class="signal-block">
      <strong>Why it matters</strong>
      <p>{{ signal.why_it_matters }}</p>
    </div>
    <div class="signal-block">
      <strong>What changes for you</strong>
      <p>{{ signal.what_changes }}</p>
    </div>
    <div class="source-link">Source: <a href="{{ signal.source_url }}">{{ signal_source_short }}</a></div>
  </div>

  <!-- TRANSLATE -->
  <div class="section">
    <div class="section-label">// Translate</div>
    <div class="concept-name">{{ translate.concept }}</div>
    <div class="translate-block">
      <strong>The analogy</strong>
      <p>{{ translate.analogy }}</p>
    </div>
    <div class="translate-block">
      <strong>In practice</strong>
      <p>{{ translate.in_practice }}</p>
    </div>
    <div class="translate-block">
      <strong>Why now</strong>
      <p>{{ translate.why_now }}</p>
    </div>
  </div>

  <!-- USE THIS -->
  <div class="section">
    <div class="section-label">// Use This</div>
    <p class="prompt-problem">{{ use_this.problem }}</p>
    <div class="prompt-box">{{ use_this.prompt }}</div>
    <div class="example-box">{{ use_this.example_output }}</div>
    <p class="why-works">{{ use_this.why_it_works }}</p>
    <div class="difficulty">{{ use_this.difficulty }}</div>
  </div>

  <!-- BEFORE AFTER -->
  <div class="section">
    <div class="section-label">// Before &rarr; After</div>
    <h3 class="ba-task">{{ before_after.task }}</h3>
    <div class="ba-grid">
      <div class="ba-col before">
        <h4>Before</h4>
        <p>{{ before_after.before }}</p>
      </div>
      <div class="ba-col after">
        <h4>After</h4>
        <p>{{ before_after.after }}</p>
      </div>
    </div>
    <div class="ba-insight"><strong>Key insight:</strong> {{ before_after.key_insight }}</div>
  </div>

  <!-- RADAR -->
  <div class="section">
    <div class="section-label">// Radar</div>
    {% for item in radar %}
    <div class="radar-item">
      <div class="radar-num">{{ "%02d"|format(loop.index) }}</div>
      <div class="radar-takeaway">{{ item.takeaway }}</div>
      <div class="radar-context">{{ item.context }}</div>
      <div class="radar-summary">{{ item.summary }}</div>
      <div class="radar-source"><a href="{{ item.url }}">{{ item.source }}</a></div>
    </div>
    {% endfor %}
  </div>

  <!-- CHALLENGE -->
  <div class="section">
    <div class="section-label">// Challenge</div>
    <div class="challenge-theme">{{ challenge.theme }}</div>
    <div class="challenge-level">
      <div class="challenge-level-header">
        <span class="challenge-level-num">1</span>
        <span class="challenge-level-title">{{ challenge.level_1_title }}</span>
      </div>
      <p>{{ challenge.level_1 }}</p>
    </div>
    <div class="challenge-level">
      <div class="challenge-level-header">
        <span class="challenge-level-num">2</span>
        <span class="challenge-level-title">{{ challenge.level_2_title }}</span>
      </div>
      <p>{{ challenge.level_2 }}</p>
    </div>
    <div class="challenge-level">
      <div class="challenge-level-header">
        <span class="challenge-level-num">3</span>
        <span class="challenge-level-title">{{ challenge.level_3_title }}</span>
      </div>
      <p>{{ challenge.level_3 }}</p>
    </div>
    <div class="challenge-learn">
      <strong>What you'll learn</strong>
      <p>{{ challenge.what_youll_learn }}</p>
    </div>
  </div>

  <div class="footer">
    <p>Knowledge in Chain &bull; Created by I&ntilde;igo Esteban &bull; Powered by Claude</p>
    <p style="margin-top: 8px;"><a href="{% raw %}{{UNSUBSCRIBE_URL}}{% endraw %}">Unsubscribe</a></p>
  </div>

</div>
</body>
</html>
